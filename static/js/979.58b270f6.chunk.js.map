{"version":3,"file":"static/js/979.58b270f6.chunk.js","mappings":"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","sources":["Components/Card/CardDark.tsx","Components/Card/CardLight.tsx","Components/CustomNumberInput.tsx","Components/DropdownMenu/DropdownButton.tsx","Components/ModalWrapper.tsx","../node_modules/@mui/icons-material/esm/ImportExport.js","../node_modules/@mui/icons-material/esm/Upload.js","../node_modules/@mui/icons-material/esm/Delete.js","Database/exim.ts","Database/exports/good.ts","Database/imports/good.ts","Database/imports/merge.ts","Database/imports/mona.ts","PageSettings/UploadCard.tsx","PageSettings/DatabaseCard.tsx","PageSettings/LanguageCard.tsx","PageSettings/TCToggleCard.tsx","PageSettings/index.tsx","ReactHooks/useBoolState.tsx","stateInit.tsx","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","../node_modules/@mui/icons-material/esm/Download.js","../node_modules/@mui/system/esm/Box/Box.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Card, styled } from \"@mui/material\";\n\nconst CardDark = styled(Card)(({ theme }) => ({\n  backgroundColor: theme.palette.contentDark.main\n}));\n\nexport default CardDark","import { Card, styled } from \"@mui/material\";\n\nconst CardLight = styled(Card)(({ theme }) => ({\n  backgroundColor: theme.palette.contentLight.main\n}));\n\nexport default CardLight","import { Button, ButtonProps, InputBase, InputProps, styled } from '@mui/material'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\ntype props = Omit<InputProps, \"onChange\"> & {\n  value?: number | undefined,\n  onChange: (newValue: number | undefined) => void,\n  disabled?: boolean\n  float?: boolean,\n  allowEmpty?: boolean,\n}\n\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  transition: \"all 0.5s ease\",\n  \"&:hover\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  \"&.Mui-focused\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  \"&.Mui-disabled\": {\n    backgroundColor: theme.palette.primary.dark,\n  },\n}))\n\nconst Wrapper = styled(Button)(({ theme }) => ({\n  backgroundColor: theme.palette.primary.main,\n  padding: 0,\n  overflow: \"hidden\",\n  \"div\": {\n    width: \"100%\",\n    height: \"100%\",\n  },\n}))\n\n// wrap the Input with this when using the input in a buttongroup\nexport function CustomNumberInputButtonGroupWrapper({ children, disableRipple, disableFocusRipple, disableTouchRipple, ...props }: ButtonProps) {\n  return <Wrapper disableRipple disableFocusRipple disableTouchRipple {...props}>{children}</Wrapper>\n}\n\nexport default function CustomNumberInput({ value = 0, onChange, disabled = false, float = false, ...props }: props) {\n  const [number, setNumber] = useState(value)\n  const [focused, setFocus] = useState(false)\n  const parseFunc = useMemo(() => float ? parseFloat : parseInt, [float],)\n  const onBlur = useCallback(\n    () => {\n      onChange(number)\n      setFocus(false)\n    },\n    [onChange, number, setFocus],\n  )\n  const onFocus = useCallback(\n    () => {\n      setFocus(true)\n    },\n    [setFocus],\n  )\n  useEffect(() => setNumber(value), [value, setNumber]) // update value on value change\n  const onInputChange = useCallback(e => setNumber(parseFunc(e.target.value) || 0), [setNumber, parseFunc],)\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\n  return <StyledInputBase\n    value={(focused && !number) ? \"\" : number}\n    aria-label=\"custom-input\"\n    type=\"number\"\n    inputProps={{ step: float ? 0.1 : 1 }}\n    onChange={onInputChange}\n    onBlur={onBlur}\n    onFocus={onFocus}\n    disabled={disabled}\n    onKeyDown={onKeyDOwn}\n    {...props}\n  />\n}\n","import { KeyboardArrowDown } from \"@mui/icons-material\";\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\nimport { Suspense, useCallback, useState } from \"react\";\n\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\n  title: React.ReactNode,\n  id?: string,\n  children: React.ReactNode\n}\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\n    [setAnchorEl],\n  )\n  const handleClose = useCallback(\n    () => setAnchorEl(null),\n    [setAnchorEl],\n  )\n\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\n    <Button\n      {...props}\n      id={id}\n      aria-controls=\"basic-menu\"\n      aria-haspopup=\"true\"\n      aria-expanded={open ? 'true' : undefined}\n      onClick={handleClick}\n      endIcon={<KeyboardArrowDown />}\n    >\n      {title}\n    </Button>\n    <Menu\n      id=\"basic-menu\"\n      anchorEl={anchorEl}\n      open={open}\n      onClose={handleClose}\n      MenuListProps={{\n        'aria-labelledby': id,\n      }}\n      onClick={handleClose}\n    >\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\n        {children}\n      </Suspense>\n    </Menu>\n  </Suspense>\n}","import { CardContent, Container, ContainerProps, Modal, ModalProps, Skeleton, styled } from \"@mui/material\"\nimport { Suspense } from \"react\"\nimport CardLight from \"./Card/CardLight\"\n\nconst ScrollModal = styled(Modal)(({ theme }) => ({\n  overflow: \"scroll\",\n  paddingTop: theme.spacing(2),\n  paddingBottom: theme.spacing(2),\n\n}))\nconst ModalContainer = styled(Container)(({ theme }) => ({\n  padding: 0,\n  minHeight: \"100%\",\n  display: \"flex\", flexDirection: \"column\", justifyContent: \"center\",\n  pointerEvents: \"none\",\n  \"& > *\": {\n    pointerEvents: \"auto\"\n  }\n}))\n\ntype ModalWrapperProps = ModalProps & {\n  containerProps?: ContainerProps\n}\nexport default function ModalWrapper({ children, containerProps, ...props }: ModalWrapperProps) {\n  return <ScrollModal {...props}>\n    <ModalContainer {...containerProps}>\n      <Suspense fallback={<CardLight><CardContent><Skeleton variant=\"rectangular\" width=\"100%\" height={300} /></CardContent></CardLight>}>\n        {children}\n      </Suspense>\n    </ModalContainer>\n  </ScrollModal>\n}","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z\"\n}), 'ImportExport');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z\"\n}), 'Upload');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","import type { IArtifact } from \"../Types/artifact\"\nimport type { ICharacter } from \"../Types/character\"\nimport type { IWeapon } from \"../Types/weapon\"\nimport type { DBStorage } from \"./DBStorage\"\n\nexport const GOSource = \"Genshin Optimizer\" as const\n\nexport function newCounter<T>(): ImportResultCounter<T> {\n  return { total: 0, invalid: [], new: [], updated: [], unchanged: [], removed: [], }\n}\n\nexport type IGOOD = {\n  format: \"GOOD\"\n  source: string\n  version: 1\n  characters?: any[]\n  artifacts?: any[]\n  weapons?: any[]\n}\nexport type IGO = {\n  dbVersion: number\n  source: typeof GOSource\n  states?: object[]\n  buildSettings?: object[]\n}\n\nexport type ImportResultCounter<T> = {\n  total: number, // total # in file\n  new: T[],\n  updated: T[], // Use new object\n  unchanged: T[], // Use new object\n  removed: T[],\n  invalid: T[],\n}\nexport type ImportResult = {\n  type: \"GOOD\",\n  storage: DBStorage,\n  source: string,\n  artifacts?: ImportResultCounter<IArtifact>,\n  weapons?: ImportResultCounter<IWeapon>,\n  characters?: ImportResultCounter<ICharacter>,\n}\n","\nimport { DBStorage } from \"../DBStorage\";\nimport { BuildSetting } from \"../Data/BuildsettingData\";\nimport { GOSource, IGO, IGOOD } from \"../exim\";\nimport { currentDBVersion } from \"../imports/migrate\";\n\nexport function exportGOOD(storage: DBStorage): IGOOD & IGO {\n  const artifactIDs = new Map<string, number>()\n  const artifacts = storage.entries\n    .filter(([key]) => key.startsWith(\"artifact_\"))\n    .map(([id, value], i) => {\n      artifactIDs.set(id, i)\n      return JSON.parse(value)\n    })\n  return {\n    format: \"GOOD\",\n    dbVersion: currentDBVersion,\n    source: GOSource,\n    version: 1,\n    characters: storage.entries\n      .filter(([key]) => key.startsWith(\"char_\"))\n      .map(([_, value]) => JSON.parse(value)),\n    artifacts,\n    weapons: storage.entries\n      .filter(([key]) => key.startsWith(\"weapon_\"))\n      .map(([_, value]) => JSON.parse(value)),\n    states: storage.entries\n      .filter(([key]) => key.startsWith(\"state_\"))\n      .map(([key, value]) => ({ ...JSON.parse(value), key: key.split(\"state_\")[1] })),\n    buildSettings: storage.entries\n      .filter(([key]) => key.startsWith(\"buildSetting_\"))\n      .map(([key, value]) => {\n        const result: BuildSetting = { ...JSON.parse(value), key: key.split(\"buildSetting_\")[1] }\n        // Make sure the artifact ids match the new ids after import\n        result.builds = result.builds.map(x => x.map(x => artifactIDs.has(x) ? `artifact_${artifactIDs.get(x)}` : \"\").filter(x => x))\n        return result\n      }),\n  }\n}\n","import { ArtCharDatabase } from \"../Database\";\nimport { SandboxStorage } from \"../DBStorage\";\nimport { GOSource, IGO, IGOOD, ImportResult, newCounter } from \"../exim\";\nimport { merge } from \"./merge\";\nimport { migrate } from \"./migrate\";\nimport { parseArtifact, parseCharacter, parseWeapon } from \"./parse\";\n\n// MIGRATION STEP: Always keep parsing in sync with GOODv1 format\n\nexport function importGOOD(data: IGOOD, oldDatabase: ArtCharDatabase): ImportResult | undefined {\n  switch (data.version) {\n    case 1: return importGOOD1(data, oldDatabase)\n  }\n}\n\n// TODO: Remove this function or move it somewhere else\nfunction importGOOD1(data: IGOOD, oldDatabase: ArtCharDatabase): ImportResult | undefined {\n  const result = parseImport(data)\n  if (!result) return\n  // TODO\n  // Handle the error thrown when the `storage` uses unsupported DB version.\n  migrate(result.storage)\n  // TODO\n  // The `merging` part can be separated into another step in DB migration.\n  // We can let the user select finer grain migration options, such as\n  // weapon-only migration.\n  merge(result, oldDatabase)\n  return result\n}\n\n/**\n * Parse GOODv1 data format into a parsed data of the version specified in `data`.\n * If the DB version is not specified, the default version is used.\n */\nfunction parseImport(data: IGOOD): ImportResult | undefined {\n  const source = data.source, storage = new SandboxStorage()\n  const result: ImportResult = { type: \"GOOD\", storage, source }\n\n  if (data.artifacts) {\n    result.artifacts = newCounter()\n    const counter = result.artifacts\n    counter.total = data.artifacts.length\n\n    data.artifacts.forEach((a, i) => {\n      const parsed = parseArtifact(a)\n      if (!parsed) counter.invalid.push(a)\n      else storage.set(`artifact_${i}`, a)\n    })\n  }\n  if (data.weapons) {\n    result.weapons = newCounter()\n    const counter = result.weapons\n    counter.total = data.weapons!.length\n\n    data.weapons.forEach((w, i) => {\n      const parsed = parseWeapon(w)\n      if (!parsed) counter.invalid.push(w)\n      else storage.set(`weapon_${i}`, w)\n      return parsed ? [parsed] : []\n    })\n\n    result.weapons = counter\n  }\n  if (data.characters) {\n    result.characters = newCounter()\n    const counter = result.characters\n    counter.total = data.characters.length\n\n    data.characters.forEach(c => {\n      const parsed = parseCharacter(c)\n      if (!parsed) counter.invalid.push(c)\n\n      // We invalidate build results here because we need to do\n      // it regardless of whether the file has character/art data.\n      if (c.buildSettings) {\n        c.buildSettings.builds = []\n        c.buildSettings.buildDate = 0\n      }\n\n      storage.set(`char_${c.key}`, c);\n    })\n  }\n  if (source === GOSource) {\n    const { dbVersion, states, buildSettings } = data as unknown as IGO\n    if (dbVersion < 8) return // Something doesn't look right here\n    storage.setDBVersion(dbVersion)\n    states && states.forEach(s => {\n      const { key, ...state } = s as any\n      if (!key) return\n      storage.set(`state_${key}`, state)\n    });\n    buildSettings && buildSettings.forEach(b => {\n      const { key, ...state } = b as any\n      if (!key) return\n      storage.set(`buildSetting_${key}`, state)\n    })\n  } else {\n    // DO NOT CHANGE THE DB VERSION\n    // Update this ONLY when it has been verified that base GOODv1 is a valid GO\n    // of that particular version. Any missing/extra keys could crash the system.\n    storage.setDBVersion(8)\n  }\n  return result\n}\n","import { IArtifact, ICachedArtifact } from \"../../Types/artifact\";\nimport { ICharacter } from \"../../Types/character\";\nimport { ICachedWeapon, IWeapon } from \"../../Types/weapon\";\nimport { ArtCharDatabase } from \"../Database\";\nimport { ImportResult } from \"../exim\";\n\n/**\n * Merge the parsed storage (`result`) of the current DB version with existing\n * database (`base`) to create a new (parsed) storage. If the data for art/char/weapon\n * exists in `result`, it will be merged with `base` on best-effort basis. The\n * information in `result` takes precedence when the data exists in both locations.\n *\n * `result` must be using the latest DB format, i.e., it must already be `migrate`d.\n *\n * TODO:\n * This can be easily extended to include options whether to merge\n * each category (art/char/weapon) or to force the `result` data or `base` data.\n */\nexport function merge(result: ImportResult, base: ArtCharDatabase) {\n  const { artifacts: artCounter, weapons: weaponCounter, characters: charCounter, storage } = result\n\n  // Match artifacts for counter, metadata, and locations\n  if (artCounter) {\n    const arts = storage.entries.filter(([k]) => k.startsWith(\"artifact_\")).map(([key, v]) => [key, JSON.parse(v) as IArtifact] as const)\n    const idsToRemove = new Set(base.arts.values.map(a => a.id))\n    const hasLocations = arts.some(a => a[1].location)\n\n    for (const [key, art] of arts) {\n      let { duplicated, upgraded } = base.arts.findDups(art)\n\n      // Don't reuse dups/upgrades\n      duplicated = duplicated.filter(a => idsToRemove.has(a.id))\n      upgraded = upgraded.filter(a => idsToRemove.has(a.id))\n\n      // Prefer dups over upgrades\n      const match: ICachedArtifact | undefined = duplicated[0] ?? upgraded[0]\n      if (match) {\n        idsToRemove.delete(match.id)\n        for (const key in match) {\n          if (!(key in art) && key !== \"location\")\n            art[key] = match[key]\n        }\n        if (!hasLocations)\n          art.location = match.location\n      }\n\n      if (duplicated.length) artCounter.unchanged.push(art)\n      else if (upgraded.length) artCounter.updated.push(art)\n      else artCounter.new.push(art)\n      storage.set(key, art)\n    }\n    artCounter.removed = [...idsToRemove].map(id => base.arts.get(id)!)\n  } else\n    base.arts.values.forEach((x, i) => storage.set(`artifact_${i}`, x))\n\n  // Match weapons for counter, metadata, and locations\n  if (weaponCounter) {\n    const weapons = storage.entries.filter(([k]) => k.startsWith(\"weapon_\")).map(([key, v]) => [key, JSON.parse(v) as IWeapon] as const)\n    const idsToRemove = new Set(base.weapons.values.map(w => w.id))\n    const hasLocations = weapons.some(weapon => weapon[1].location)\n\n    for (const [key, weapon] of weapons) {\n      let { duplicated, upgraded } = base.weapons.findDup(weapon)\n\n      // Don't reuse dups/upgrades\n      duplicated = duplicated.filter(w => idsToRemove.has(w.id))\n      upgraded = upgraded.filter(w => idsToRemove.has(w.id))\n\n      // Prefer dups over upgrades\n      const match = (duplicated[0] ?? upgraded[0]) as ICachedWeapon | undefined\n      if (match) {\n        idsToRemove.delete(match.id)\n        for (const key in match) {\n          if (!(key in weapon) && key !== \"location\")\n            weapon[key] = match[key]\n        }\n        if (!hasLocations)\n          weapon.location = match.location\n      }\n\n      if (duplicated.length) weaponCounter.unchanged.push(weapon)\n      else if (upgraded.length) weaponCounter.updated.push(weapon)\n      else weaponCounter.new.push(weapon)\n      storage.set(key, weapon)\n    }\n    weaponCounter.removed = [...idsToRemove].map(id => base.weapons.get(id)!)\n  } else\n    base.weapons.values.forEach((x, i) => storage.set(`weapon_${i}`, x))\n\n  if (charCounter) {\n    const newCharEntries = storage.entries.filter(([k]) => k.startsWith(\"char_\")).map(([key, value]) => [key.slice(5), JSON.parse(value) as ICharacter] as const)\n    const newCharKeys = new Set(newCharEntries.map(([k]) => k))\n    const oldCharKeys = new Set(base.chars.keys as string[])\n\n    charCounter.updated = []\n    charCounter.new = []\n\n    const hasTeamData = newCharEntries.some(([_, char]) => char.team.some(x => x))\n\n    for (const [key, char] of newCharEntries) {\n      const match = base.chars.get(key as any)\n      if (match) {\n        charCounter.updated.push(char)\n      } else {\n        charCounter.new.push(char)\n        continue\n      }\n\n      for (const key in match)\n        if (!(key in char))\n          char[key] = match[key]\n      if (!hasTeamData)\n        char.team = match.team\n\n      storage.set(`char_${key}`, char)\n    }\n\n    charCounter.removed = [...oldCharKeys].filter(([k]) => newCharKeys.has(k)).map(k => base.chars.get(k as any)!)\n    charCounter.unchanged = []\n  } else\n    base.chars.keys.forEach(k => storage.set(`char_${k}`, base.chars.get(k)))\n\n  // Merge misc.\n  const newKeys = new Set(storage.keys)\n  for (const key of base.storage.keys)\n    if (!newKeys.has(key) && !key.startsWith(\"artifact_\") && !key.startsWith(\"weapon_\") && !key.startsWith(\"char_\"))\n      storage.setString(key, base.storage.getString(key)!)\n}\n","import { MainStatKey, SubstatKey } from '../../Types/artifact';\nimport { ArtifactSetKey, SlotKey } from \"../../Types/consts\";\nimport { ArtCharDatabase } from '../Database';\nimport { importGOOD } from './good';\n\nconst DefaultVersion = \"1\";\nconst GetConvertedArtifactsOfVersion: Dict<string, (data: any) => { artifacts: any[] }> = {\n  \"1\": importMona1\n};\n\nexport function importMona(dataObj: any, oldDatabase: ArtCharDatabase): ReturnType<typeof importGOOD> {\n  const version = dataObj.version ?? DefaultVersion\n  const converted = GetConvertedArtifactsOfVersion[version]?.(dataObj)\n\n  if (!converted)\n    return // TODO: Maybe add failure reason, or throws here\n\n  return importGOOD({\n    format: \"GOOD\",\n    source: \"mona-uranai\",\n    version: 1,\n    artifacts: converted.artifacts\n  }, oldDatabase)\n}\n\n// backup 0: https://github.com/wormtql/genshin_artifact/blob/main/src/assets/artifacts/data/*/index.js\n// backup 1: https://github.com/YuehaiTeam/cocogoat/blob/main/src/App/export/Mona.ts\n\nfunction importMona1(dataObj: any): { artifacts: any[] } {\n  const artifacts: any[] = []\n\n  for (const property in dataObj) {\n    if (!(property in ArtifactSlotKeyMap))\n      continue\n\n    for (const genshinArtArtifact of dataObj[property]) {\n      const { setName, star, level, position, mainTag } = genshinArtArtifact\n      const raw = {\n        setKey: ArtifactSetKeyMap[setName],\n        rarity: star,\n        level,\n        slotKey: ArtifactSlotKeyMap[position],\n        mainStatKey: ArtifactMainStatKeyMap[mainTag.name],\n        substats: genshinArtArtifact.normalTags.map(({ name, value }) => {\n          const key = ArtifactSubStatKeyMap[name]\n          return {\n            key,\n            value: key?.endsWith(\"_\") ?\n              Math.round(value * 1000) / 10 : // decimal to percentage\n              value,\n          }\n        }),\n      }\n      artifacts.push(raw)\n    }\n  }\n\n  return { artifacts }\n}\n\n// Referencing https://wormtql.gitbook.io/mona-uranai/ (they don't seem to update this anymore...)\n\nconst ArtifactSlotKeyMap: Dict<string, SlotKey> = {\n  \"flower\": \"flower\",\n  \"feather\": \"plume\",\n  \"sand\": \"sands\",\n  \"cup\": \"goblet\",\n  \"head\": \"circlet\",\n}\n\n// Referencing https://github.com/daydreaming666/Amenoma/blob/main/ArtScanner/ArtsInfo.py SetNamesGenshinArt\n\nconst ArtifactSetKeyMap: Dict<string, ArtifactSetKey> = {\n  \"adventurer\": \"Adventurer\",\n  \"archaicPetra\": \"ArchaicPetra\",\n  \"berserker\": \"Berserker\",\n  \"blizzardStrayer\": \"BlizzardStrayer\",\n  \"bloodstainedChivalry\": \"BloodstainedChivalry\",\n  \"braveHeart\": \"BraveHeart\",\n  \"crimsonWitch\": \"CrimsonWitchOfFlames\",\n  \"defenderWill\": \"DefendersWill\",\n  \"gambler\": \"Gambler\",\n  \"gladiatorFinale\": \"GladiatorsFinale\",\n  \"heartOfDepth\": \"HeartOfDepth\",\n  \"instructor\": \"Instructor\",\n  \"lavaWalker\": \"Lavawalker\",\n  \"luckyDog\": \"LuckyDog\",\n  \"maidenBeloved\": \"MaidenBeloved\",\n  \"martialArtist\": \"MartialArtist\",\n  \"noblesseOblige\": \"NoblesseOblige\",\n  \"prayersForDestiny\": \"PrayersForDestiny\",\n  \"prayersForIllumination\": \"PrayersForIllumination\",\n  \"prayersForWisdom\": \"PrayersForWisdom\",\n  \"prayersToSpringtime\": \"PrayersToSpringtime\",\n  \"resolutionOfSojourner\": \"ResolutionOfSojourner\",\n  \"retracingBolide\": \"RetracingBolide\",\n  \"scholar\": \"Scholar\",\n  \"exile\": \"TheExile\",\n  \"thunderingFury\": \"ThunderingFury\",\n  \"thunderSmoother\": \"Thundersoother\",\n  \"tinyMiracle\": \"TinyMiracle\",\n  \"travelingDoctor\": \"TravelingDoctor\",\n  \"viridescentVenerer\": \"ViridescentVenerer\",\n  \"wandererTroupe\": \"WanderersTroupe\",\n  \"tenacityOfTheMillelith\": \"TenacityOfTheMillelith\",\n  \"paleFlame\": \"PaleFlame\",\n  \"emblemOfSeveredFate\": \"EmblemOfSeveredFate\",\n  \"shimenawaReminiscence\": \"ShimenawasReminiscence\",\n  \"huskOfOpulentDreams\": \"HuskOfOpulentDreams\",\n  \"oceanHuedClam\": \"OceanHuedClam\",\n  \"EchoesOfAnOffering\": \"EchoesOfAnOffering\",\n  \"VermillionHereafter\": \"VermillionHereafter\",\n}\nconst ArtifactMainStatKeyMap: Dict<string, MainStatKey> = {\n  \"cureEffect\": \"heal_\",\n  \"lifeStatic\": \"hp\",\n  \"lifePercentage\": \"hp_\",\n  \"attackStatic\": \"atk\",\n  \"attackPercentage\": \"atk_\",\n  // \"defendStatic\": \"def\",\n  \"defendPercentage\": \"def_\",\n  \"critical\": \"critRate_\",\n  // // \"eCritical\": \"\",\n  \"criticalDamage\": \"critDMG_\",\n  \"elementalMastery\": \"eleMas\",\n  \"recharge\": \"enerRech_\",\n  \"thunderBonus\": \"electro_dmg_\",\n  \"fireBonus\": \"pyro_dmg_\",\n  \"waterBonus\": \"hydro_dmg_\",\n  \"iceBonus\": \"cryo_dmg_\",\n  \"windBonus\": \"anemo_dmg_\",\n  \"rockBonus\": \"geo_dmg_\",\n  // \"grassBonus\": \"dendro_dmg_\",  // the day will come...\n  \"physicalBonus\": \"physical_dmg_\",\n  // \"bonus\": \"\",\n  // \"aBonus\": \"\",\n  // \"bBonus\": \"\",\n  // \"eBonus\": \"\",\n  // \"qBonus\": \"\",\n}\nconst ArtifactSubStatKeyMap: Dict<string, SubstatKey> = {\n  \"lifeStatic\": \"hp\",\n  \"lifePercentage\": \"hp_\",\n  \"attackStatic\": \"atk\",\n  \"attackPercentage\": \"atk_\",\n  \"defendStatic\": \"def\",\n  \"defendPercentage\": \"def_\",\n  \"critical\": \"critRate_\",\n  \"criticalDamage\": \"critDMG_\",\n  \"elementalMastery\": \"eleMas\",\n  \"recharge\": \"enerRech_\",\n}\n","import { faArrowLeft, faFileCode, faFileUpload } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Upload } from '@mui/icons-material'\nimport { Box, Button, CardContent, Divider, Grid, styled, Typography } from '@mui/material'\nimport { useContext, useMemo, useState } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport CardDark from '../Components/Card/CardDark'\nimport CardLight from '../Components/Card/CardLight'\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\"\nimport { ImportResult, ImportResultCounter } from '../Database/exim'\nimport { importGOOD } from '../Database/imports/good'\nimport { importMona } from '../Database/imports/mona'\n\nconst InvisInput = styled('input')({\n  display: 'none',\n});\n\nexport default function UploadCard({ onReplace }: { onReplace: () => void }) {\n  const { database } = useContext(DatabaseContext)\n  const { t } = useTranslation(\"settings\");\n  const [data, setdata] = useState(\"\")\n  const [filename, setfilename] = useState(\"\")\n  const [errorMsg, setErrorMsg] = useState(\"\") // TODO localize error msg\n  const dataObj: UploadData | undefined = useMemo(() => {\n    if (!data) return\n    let parsed: any\n    try {\n      parsed = JSON.parse(data)\n      if (typeof parsed !== \"object\") {\n        setErrorMsg(\"uploadCard.error.jsonParse\")\n        return\n      }\n    } catch (e) {\n      setErrorMsg(\"uploadCard.error.jsonParse\")\n      return\n    }\n    // Figure out the file format\n    if (parsed.version === \"1\" && [\"flower\", \"feather\", \"sand\", \"cup\", \"head\"].some(k => Object.keys(parsed).includes(k))) {\n      // Parse as mona format\n      const imported = importMona(parsed, database)\n      if (!imported) {\n        setErrorMsg(\"uploadCard.error.monaInvalid\")\n        return\n      }\n      return imported\n    } else if (parsed.format === \"GOOD\") {\n      // Parse as GOOD format\n      const imported = importGOOD(parsed, database)\n      if (!imported) {\n        setErrorMsg(\"uploadCard.error.goInvalid\")\n        return\n      }\n      return imported\n    }\n    setErrorMsg(\"uploadCard.error.unknown\")\n    return\n  }, [data, database])\n\n  const reset = () => {\n    setdata(\"\")\n    setfilename(\"\")\n    onReplace()\n  }\n  const onUpload = async e => {\n    const file = e.target.files[0]\n    e.target.value = null // reset the value so the same file can be uploaded again...\n    if (file) setfilename(file.name)\n    const reader = new FileReader()\n    reader.onload = () => setdata(reader.result as string)\n    reader.readAsText(file)\n  }\n  return <CardLight>\n    <CardContent sx={{ py: 1 }}><Trans t={t} i18nKey=\"settings:uploadCard.title\" /></CardContent>\n    <CardContent>\n      <Grid container spacing={2} sx={{ mb: 1 }}>\n        <Grid item>\n          <label htmlFor=\"icon-button-file\">\n            <InvisInput accept=\".json\" id=\"icon-button-file\" type=\"file\" onChange={onUpload} />\n            <Button component=\"span\" startIcon={<Upload />}>Upload</Button>\n          </label>\n        </Grid>\n        <Grid item flexGrow={1}>\n          <CardDark sx={{ px: 2, py: 1 }}>\n            <Typography>{filename ? <span><FontAwesomeIcon icon={faFileCode} /> {filename}</span> : <span><FontAwesomeIcon icon={faArrowLeft} /> <Trans t={t} i18nKey=\"settings:uploadCard.hint\" /></span>}</Typography>\n          </CardDark>\n        </Grid>\n      </Grid>\n      <Typography gutterBottom variant=\"caption\"><Trans t={t} i18nKey=\"settings:uploadCard.hintPaste\" /></Typography>\n      <Box component=\"textarea\" sx={{ width: \"100%\", fontFamily: \"monospace\", minHeight: \"10em\", mb: 2, resize: \"vertical\" }} value={data} onChange={e => setdata(e.target.value)} />\n      {UploadInfo(dataObj) ?? t(errorMsg)}\n    </CardContent>\n    {UploadAction(dataObj, reset)}\n  </CardLight>\n}\n\nfunction UploadInfo(data: UploadData | undefined) {\n  switch (data?.type) {\n    case \"GOOD\": return <GOODUploadInfo data={data} />\n  }\n}\nfunction UploadAction(data: UploadData | undefined, reset: () => void) {\n  switch (data?.type) {\n    case \"GOOD\": return <GOUploadAction data={data} reset={reset} />\n  }\n}\n\nfunction GOODUploadInfo({ data: { source, artifacts, characters, weapons }, data }: { data: ImportResult }) {\n  const { t } = useTranslation(\"settings\")\n  return <CardDark>\n    <CardContent sx={{ py: 1 }}>\n      <Typography>\n        <Trans t={t} i18nKey=\"uploadCard.dbSource\" /><strong> {source}</strong>\n      </Typography>\n    </CardContent>\n    <Divider />\n    <CardContent >\n      <Grid container spacing={2}>\n        <Grid item flexGrow={1}>\n          <MergeResult result={artifacts} type=\"arts\" />\n        </Grid>\n        <Grid item flexGrow={1}>\n          <MergeResult result={weapons} type=\"weapons\" />\n        </Grid>\n        <Grid item flexGrow={1}>\n          <MergeResult result={characters} type=\"chars\" />\n        </Grid>\n      </Grid>\n    </CardContent>\n  </CardDark>\n}\nfunction MergeResult({ result, type }: { result?: ImportResultCounter<any>, type: string }) {\n  const { t } = useTranslation(\"settings\")\n  if (!result) return null\n  return <CardLight >\n    <CardContent sx={{ py: 1 }}>\n      <Typography>\n        <Trans t={t} i18nKey={`count.${type}`} /> {result.total ?? 0}\n      </Typography>\n    </CardContent>\n    <Divider />\n    <CardContent>\n      <Typography><Trans t={t} i18nKey=\"count.new\" /> <strong>{result.new.length}</strong> / {result.total}</Typography>\n      <Typography><Trans t={t} i18nKey=\"count.updated\" /> <strong>{result.updated.length}</strong> / {result.total}</Typography>\n      <Typography><Trans t={t} i18nKey=\"count.unchanged\" /> <strong>{result.unchanged.length}</strong> / {result.total}</Typography>\n      <Typography color=\"warning.main\"><Trans t={t} i18nKey=\"count.removed\" /> <strong>{result.removed.length}</strong></Typography>\n      {!!result.invalid?.length && <div>\n        <Typography color=\"error.main\"><Trans t={t} i18nKey=\"count.invalid\" /> <strong>{result.invalid.length}</strong> / {result.total}</Typography>\n        <Box component=\"textarea\" sx={{ width: \"100%\", fontFamily: \"monospace\", minHeight: \"10em\", resize: \"vertical\" }} value={JSON.stringify(result.invalid, undefined, 2)} disabled />\n      </div>}\n    </CardContent>\n  </CardLight>\n}\n\nfunction GOUploadAction({ data: { storage }, data, reset }: { data: ImportResult, reset: () => void }) {\n  const { database, setDatabase } = useContext(DatabaseContext)\n  const { t } = useTranslation(\"settings\")\n  const dataValid = data.characters?.total || data.artifacts?.total || data.weapons?.total\n  const replaceDB = () => {\n    database.clear()\n    database.storage.copyFrom(storage)\n    setDatabase(new ArtCharDatabase(database.storage))\n    reset()\n  }\n\n  return <><Divider /><CardContent sx={{ py: 1 }}>\n    <Button color={dataValid ? \"success\" : \"error\"} disabled={!dataValid} onClick={replaceDB} startIcon={<FontAwesomeIcon icon={faFileUpload} />}><Trans t={t} i18nKey=\"settings:uploadCard.replaceDatabase\" /></Button>\n  </CardContent></>\n}\n\ntype UploadData = ImportResult\n","import { faClipboard } from '@fortawesome/free-solid-svg-icons'\nimport { Delete, Download, ImportExport, Upload } from '@mui/icons-material'\nimport { Button, CardContent, Chip, Divider, Grid, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport { useCallback, useContext, useEffect, useState } from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport CardDark from '../Components/Card/CardDark'\nimport CardLight from '../Components/Card/CardLight'\nimport { StyledInputBase } from '../Components/CustomNumberInput'\nimport FontAwesomeSvgIcon from '../Components/FontAwesomeSvgIcon'\nimport ModalWrapper from '../Components/ModalWrapper'\nimport { ArtCharDatabase, DatabaseContext, DatabaseContextObj } from \"../Database/Database\"\nimport { ExtraStorage } from '../Database/DBStorage'\nimport { exportGOOD } from '../Database/exports/good'\nimport useBoolState from '../ReactHooks/useBoolState'\nimport useDBState, { dbMetaInit } from '../ReactHooks/useDBState'\nimport { range } from '../Util/Util'\nimport UploadCard from './UploadCard'\n\nexport default function DatabaseCard() {\n  const databaseContextObj = useContext(DatabaseContext)\n  const dbIndex = parseInt(databaseContextObj.database.storage.getString(\"dbIndex\") || \"1\")\n  const { t } = useTranslation([\"settings\"]);\n\n  return <CardLight>\n    <CardContent sx={{ py: 1 }}>\n      <Typography variant=\"subtitle1\">\n        {t`DatabaseCard.title`}\n      </Typography>\n    </CardContent>\n    <Divider />\n    <CardContent sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\n      <Grid container spacing={2} columns={{ xs: 1, md: 2, }}>\n        {range(1, 4).map(i => <Grid key={i} item xs={1}>\n          {i === dbIndex ? <DataCard index={i} /> :\n            <ExtraDatabaseWrapper index={i}>\n              <DataCard index={i} databaseContextObj={databaseContextObj} />\n            </ExtraDatabaseWrapper>}\n        </Grid>)}\n      </Grid>\n    </CardContent >\n  </CardLight >\n}\nfunction ExtraDatabaseWrapper({ index, children }) {\n  const [database, setDatabase] = useState(() => {\n    const dbName = `extraDatabase_${index}`\n    const storage = new ExtraStorage(dbName)\n    const dbObj = JSON.parse(localStorage.getItem(dbName) ?? `{ \"dbIndex\": \"${index}\" }`)\n    storage.setStorage(dbObj)\n\n    // A bit of preventive programming\n    storage.removeForKeys(k => k.startsWith(\"extraDatabase_\"))\n    const db = new ArtCharDatabase(storage)\n    storage.saveStorage()\n    return db\n  })\n\n  return <DatabaseContext.Provider value={{ database, setDatabase }}>\n    {children}\n  </DatabaseContext.Provider>\n}\n\nfunction DataCard({ index, databaseContextObj }: { index: number, databaseContextObj?: DatabaseContextObj }) {\n  const { database, setDatabase } = useContext(DatabaseContext)\n  const [{ name, lastEdit }, setDbMeta] = useDBState(\"dbMeta\", dbMetaInit(index))\n  const current = !databaseContextObj\n  const [uploadOpen, onOpen, onClose] = useBoolState()\n  const { t } = useTranslation([\"settings\"]);\n  const numChar = database.chars.keys.length\n  const numArt = database.arts.values.length\n  const numWeapon = database.weapons.values.length\n  const hasData = Boolean(numChar || numArt || numWeapon)\n  const copyToClipboard = useCallback(\n    () => navigator.clipboard.writeText(JSON.stringify(exportGOOD(database.storage)))\n      .then(() => alert(\"Copied database to clipboard.\"))\n      .catch(console.error),\n    [database],\n  )\n  const onUpload = useCallback(() => {\n    onClose()\n    if (!current) {\n      const storage = database.storage as ExtraStorage\n      storage.saveStorage()\n    }\n  }, [onClose, current, database.storage])\n\n  const onDelete = useCallback(() => {\n    if (!window.confirm(`Are you sure you want to delete \"${name}\"?`)) return\n    if (current) {\n      database.clear()\n      setDatabase(new ArtCharDatabase(database.storage))\n    } else {\n      const storage = database.storage as ExtraStorage\n      const dbName = storage.databaseName\n      const extraStorage = new ExtraStorage(dbName)\n      extraStorage.setStorage({})\n      setDatabase(new ArtCharDatabase(extraStorage))\n      localStorage.removeItem(dbName)\n    }\n  }, [database, current, name, setDatabase])\n\n  const download = useCallback(() => {\n    const date = new Date()\n    const dateStr = date.toISOString().split(\".\")[0].replace(\"T\", \"_\").replaceAll(\":\", \"-\")\n    const JSONStr = JSON.stringify(exportGOOD(database.storage))\n    const filename = `${name.trim().replaceAll(\" \", \"_\")}_${dateStr}.json`\n    const contentType = \"application/json;charset=utf-8\"\n    const a = document.createElement('a');\n    a.download = filename\n    a.href = `data:${contentType},${encodeURIComponent(JSONStr)}`\n    a.target = \"_blank\"\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n  }, [database, name])\n\n  const onSwap = useCallback(() => {\n    if (!databaseContextObj) return\n\n    // save current database to appropriate slot\n    const dbIndex = parseInt(databaseContextObj.database.storage.getString(\"dbIndex\") || \"1\")\n    const tempStorage = new ExtraStorage(`extraDatabase_${dbIndex}`, databaseContextObj.database.storage)\n    tempStorage.removeForKeys(k => k.startsWith(\"extraDatabase_\"))\n    tempStorage.saveStorage()\n\n    // clear this slot database\n    const storage = database.storage as ExtraStorage\n    const dbName = storage.databaseName\n    localStorage.removeItem(dbName)\n\n    // swap over database\n    databaseContextObj.database.clear()\n    databaseContextObj.database.storage.copyFrom(database.storage)\n    databaseContextObj.database.storage.set(\"dbIndex\", index)\n    databaseContextObj.setDatabase(new ArtCharDatabase(databaseContextObj.database.storage))\n\n  }, [databaseContextObj, database, index])\n\n  const [tempName, setTempName] = useState(name)\n  useEffect(() => setTempName(name), [name])\n\n  const onBlur = useCallback(() => {\n    setDbMeta({ name: tempName })\n    if (!current) (database.storage as ExtraStorage).saveStorage()\n  }, [setDbMeta, tempName, database, current])\n  const onKeyDOwn = useCallback(e => e.key === \"Enter\" && onBlur(), [onBlur],)\n\n  return <CardDark sx={{ height: \"100%\" }}>\n    <CardContent sx={{ display: \"flex\", gap: 1, justifyContent: \"space-between\" }}>\n      < StyledInputBase value={tempName} sx={{ borderRadius: 1, px: 1, flexGrow: 1 }} onChange={(e) => setTempName(e.target.value)} onBlur={onBlur} onKeyDown={onKeyDOwn} />\n      {!current && <Button startIcon={<ImportExport />} onClick={onSwap} color=\"success\">{t`DatabaseCard.button.swap`}</Button>}\n      <Chip color={current ? \"success\" : \"secondary\"} label={current ? t`DatabaseCard.currentDB` : `${t`DatabaseCard.title`} ${index}`} />\n    </CardContent>\n    <Divider />\n    <CardContent>\n      <Box display=\"flex\" gap={2}>\n        <Box flexGrow={1}>\n          <Typography noWrap><Trans t={t} i18nKey=\"count.chars\" /> <strong>{numChar}</strong></Typography>\n          <Typography noWrap><Trans t={t} i18nKey=\"count.arts\" /> <strong>{numArt}</strong></Typography>\n          <Typography noWrap><Trans t={t} i18nKey=\"count.weapons\" /> <strong>{numWeapon}</strong></Typography>\n          {!!lastEdit && <Typography noWrap><strong>{(new Date(lastEdit).toLocaleString())}</strong></Typography>}\n        </Box>\n        <Box>\n          <Grid container spacing={1} columns={{ xs: 2 }} >\n            <Grid item xs={1}>\n              <Button fullWidth disabled={!hasData} color=\"info\" onClick={copyToClipboard} startIcon={<FontAwesomeSvgIcon icon={faClipboard} />}>\n                <Trans t={t} i18nKey=\"DatabaseCard.button.copy\" />\n              </Button>\n            </Grid>\n            <Grid item xs={1}>\n              <ModalWrapper open={uploadOpen} onClose={onClose} >\n                <UploadCard onReplace={onUpload} />\n              </ModalWrapper>\n              <Button fullWidth component=\"span\" color=\"info\" startIcon={<Upload />} onClick={onOpen}>\n                {t`DatabaseCard.button.upload`}\n              </Button>\n            </Grid>\n            <Grid item xs={1}>\n              <Button fullWidth disabled={!hasData} onClick={download} startIcon={<Download />}>\n                {t`DatabaseCard.button.download`}\n              </Button>\n            </Grid>\n            <Grid item xs={1}>\n              <Button fullWidth disabled={!hasData} color=\"error\" onClick={onDelete} startIcon={<Delete />}>\n                {t`DatabaseCard.button.delete`}\n              </Button>\n            </Grid>\n          </Grid>\n        </Box>\n      </Box>\n    </CardContent>\n  </CardDark>\n}\n","import { CardContent, Divider, MenuItem } from '@mui/material'\nimport { Trans, useTranslation } from \"react-i18next\"\nimport CardLight from '../Components/Card/CardLight'\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton'\nimport SqBadge from '../Components/SqBadge'\nimport { languageCodeList } from \"../i18n\"\nexport default function LanguageCard() {\n  const { t } = useTranslation();\n  return <CardLight>\n    <CardContent sx={{ py: 1 }}>\n      {t(\"settings:languageCard.selectLanguage\")} <SqBadge color=\"warning\">{t(\"ui:underConstruction\")}</SqBadge>\n    </CardContent>\n    <Divider />\n    <CardContent>\n      <LanguageDropdown />\n    </CardContent>\n  </CardLight>\n}\n\nconst nativeLanguages = {\n  \"chs\": \" \",\n  \"cht\": \" \",\n  \"de\": \"Deutsch\",\n  \"en\": \"English\",\n  \"es\": \"espaol\",\n  \"fr\": \"franais\",\n  \"id\": \"Bahasa Indonesia\",\n  \"ja\": \"\",\n  \"ko\": \"\",\n  \"pt\": \"Portugus\",\n  \"ru\": \" \",\n  \"th\": \"\",\n  \"vi\": \"Ting Vit\"\n}\nexport function LanguageDropdown() {\n  const { t, i18n } = useTranslation([\"ui\", \"settings\"]);\n  const onSetLanguage = (lang) => () => i18n.changeLanguage(lang);\n  const currentLang = i18n.languages[0];\n  return <DropdownButton fullWidth title={t('settings:languageCard.languageFormat', { language: t(`languages:${currentLang}`) })}>\n    {languageCodeList.map((lang) => <MenuItem key={lang} selected={currentLang === lang} disabled={currentLang === lang} onClick={onSetLanguage(lang)}>\n      <Trans i18nKey={`languages:${lang}`} />\n      {lang !== currentLang ? ` (${nativeLanguages[lang]})` : \"\"}\n    </MenuItem>)}\n  </DropdownButton>\n}\n","import { CheckBox, CheckBoxOutlineBlank } from \"@mui/icons-material\";\nimport { Button, CardContent, Typography } from \"@mui/material\";\nimport CardLight from \"../Components/Card/CardLight\";\nimport { initGlobalSettings } from \"../stateInit\";\nimport useDBState from \"../ReactHooks/useDBState\";\n\nexport default function TCToggleCard() {\n  const [{ tcMode }, setGlobalSettings] = useDBState(\"GlobalSettings\", initGlobalSettings)\n\n  return <CardLight>\n    <CardContent>\n      <Typography gutterBottom color=\"warning.main\">Enabling this toggle will show some features that might be too complex for the average user.</Typography>\n      <Button fullWidth\n        onClick={() => setGlobalSettings({ tcMode: !tcMode })}\n        color={tcMode ? \"success\" : \"primary\"}\n        startIcon={tcMode ? <CheckBox /> : <CheckBoxOutlineBlank />}>\n        Theorycrafting Mode\n      </Button>\n    </CardContent>\n  </CardLight>\n}\n","import { CardContent, Divider, Typography } from '@mui/material'\nimport ReactGA from 'react-ga4'\nimport { Trans, useTranslation } from \"react-i18next\"\nimport CardDark from '../Components/Card/CardDark'\nimport DatabaseCard from './DatabaseCard'\nimport LanguageCard from './LanguageCard'\nimport TCToggleCard from './TCToggleCard'\n\nexport default function PageSettings() {\n  const { t } = useTranslation([\"settings\"]);\n  ReactGA.send({ hitType: \"pageview\", page: '/setting' })\n\n  return <CardDark sx={{ my: 1 }}>\n    <CardContent sx={{ py: 1 }}>\n      <Typography variant=\"subtitle1\">\n        <Trans t={t} i18nKey=\"title\" />\n      </Typography>\n    </CardContent>\n    <Divider />\n    <CardContent sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\n      <LanguageCard />\n      <DatabaseCard />\n      <TCToggleCard />\n    </CardContent>\n  </CardDark>\n}\n","import { useCallback, useState } from \"react\"\n\nexport default function useBoolState(initial: boolean = false) {\n  const [bool, setBool] = useState(initial)\n  const onTrue = useCallback(() => setBool(true), [setBool],)\n  const onFalse = useCallback(() => setBool(false), [setBool],)\n  return [bool, onTrue, onFalse] as [boolean, () => void, () => void]\n}\n","import { allSubstatKeys } from \"./Types/artifact\"\n\nexport function initGlobalSettings() {\n  return { tcMode: false }\n}\n\nexport function initCharMeta() {\n  return {\n    rvFilter: [...allSubstatKeys],\n    favorite: false\n  }\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');","import PropTypes from 'prop-types';\nimport createBox from '../createBox';\nconst Box = createBox();\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["CardDark","styled","Card","backgroundColor","theme","palette","contentDark","main","CardLight","contentLight","StyledInputBase","InputBase","primary","transition","dark","Wrapper","Button","padding","overflow","width","height","CustomNumberInputButtonGroupWrapper","children","props","disableRipple","disableFocusRipple","disableTouchRipple","CustomNumberInput","value","onChange","disabled","float","useState","number","setNumber","focused","setFocus","parseFunc","useMemo","parseFloat","parseInt","onBlur","useCallback","onFocus","useEffect","onInputChange","e","target","onKeyDOwn","key","type","inputProps","step","onKeyDown","DropdownButton","title","id","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","Suspense","fallback","endIcon","undefined","onClick","onClose","MenuListProps","ScrollModal","Modal","paddingTop","spacing","paddingBottom","ModalContainer","Container","minHeight","display","flexDirection","justifyContent","pointerEvents","ModalWrapper","containerProps","variant","createSvgIcon","_jsx","d","GOSource","exportGOOD","storage","artifactIDs","Map","artifacts","entries","filter","startsWith","map","i","set","JSON","parse","format","dbVersion","currentDBVersion","source","version","characters","weapons","states","split","buildSettings","result","builds","x","has","get","importGOOD","data","oldDatabase","SandboxStorage","total","invalid","new","updated","unchanged","removed","counter","length","forEach","a","parseArtifact","push","w","parsed","parseWeapon","c","parseCharacter","buildDate","setDBVersion","s","state","b","parseImport","migrate","base","artCounter","weaponCounter","charCounter","arts","v","idsToRemove","Set","values","hasLocations","some","location","art","findDups","duplicated","upgraded","match","delete","weapon","findDup","newCharEntries","slice","newCharKeys","oldCharKeys","chars","keys","hasTeamData","team","char","k","newKeys","setString","getString","merge","importGOOD1","GetConvertedArtifactsOfVersion","dataObj","property","ArtifactSlotKeyMap","genshinArtArtifact","setName","star","level","position","mainTag","raw","setKey","ArtifactSetKeyMap","rarity","slotKey","mainStatKey","ArtifactMainStatKeyMap","name","substats","normalTags","ArtifactSubStatKeyMap","endsWith","Math","round","InvisInput","UploadCard","onReplace","database","useContext","DatabaseContext","t","useTranslation","setdata","filename","setfilename","errorMsg","setErrorMsg","Object","includes","imported","converted","importMona","onUpload","file","files","reader","FileReader","onload","readAsText","CardContent","sx","py","Trans","i18nKey","Grid","container","mb","item","htmlFor","accept","component","startIcon","Upload","flexGrow","px","Typography","icon","faFileCode","faArrowLeft","gutterBottom","fontFamily","resize","UploadInfo","UploadAction","GOODUploadInfo","reset","GOUploadAction","Divider","MergeResult","color","stringify","setDatabase","dataValid","clear","copyFrom","ArtCharDatabase","faFileUpload","DatabaseCard","databaseContextObj","dbIndex","gap","columns","xs","md","range","DataCard","index","ExtraDatabaseWrapper","dbName","ExtraStorage","dbObj","localStorage","getItem","setStorage","removeForKeys","db","saveStorage","Database","useDBState","dbMetaInit","lastEdit","setDbMeta","current","useBoolState","uploadOpen","onOpen","numChar","numArt","numWeapon","hasData","copyToClipboard","navigator","clipboard","writeText","then","alert","catch","console","error","onDelete","window","confirm","databaseName","extraStorage","removeItem","download","dateStr","Date","toISOString","replace","replaceAll","JSONStr","trim","document","createElement","href","encodeURIComponent","body","appendChild","click","removeChild","onSwap","tempStorage","tempName","setTempName","borderRadius","ImportExport","Chip","label","Box","noWrap","toLocaleString","fullWidth","FontAwesomeSvgIcon","faClipboard","Download","Delete","LanguageCard","SqBadge","LanguageDropdown","nativeLanguages","i18n","onSetLanguage","lang","changeLanguage","currentLang","languages","language","languageCodeList","MenuItem","selected","TCToggleCard","initGlobalSettings","tcMode","setGlobalSettings","CheckBox","CheckBoxOutlineBlank","PageSettings","ReactGA","hitType","page","my","initial","bool","setBool","onTrue","onFalse","initCharMeta","rvFilter","allSubstatKeys","favorite","createBox","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err"],"sourceRoot":""}